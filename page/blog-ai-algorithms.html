<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algoritmos de IA - Donkey Kong Classic</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="blogstyle.css">
</head>
<body>
    <script src="lang.js"></script>
    <div class="nav-header">
        <a href="blog.html" class="back-button">
            <span data-lang="es">‚Üê Volver al Blog</span>
            <span data-lang="en" style="display:none">‚Üê Back to Blog</span>
        </a>
        <button class="lang-btn" onclick="toggleLanguage()">
            <span data-lang="es">üá∫üá∏ EN</span>
            <span data-lang="en" style="display:none">üá™üá∏ ES</span>
        </button>
    </div>
    
    <div class="article-container">
        <div class="article-header">
            <h1>
                <span data-lang="es">ü§ñ Algoritmos de Inteligencia Artificial</span>
                <span data-lang="en" style="display:none">ü§ñ Artificial Intelligence Algorithms</span>
            </h1>
            <p>
                <span data-lang="es">Implementaci√≥n de Q-Learning y sistemas h√≠bridos para enemigos inteligentes</span>
                <span data-lang="en" style="display:none">Q-Learning implementation and hybrid systems for intelligent enemies</span>
            </p>
        </div>

        <div class="article-content">
            <h2>
                <span data-lang="es">Visi√≥n General</span>
                <span data-lang="en" style="display:none">Overview</span>
            </h2>
            <p>
                <span data-lang="es">El juego implementa un sistema de IA h√≠brido que combina l√≥gica basada en reglas con aprendizaje por refuerzo (Q-Learning) para crear comportamientos de enemigos inteligentes que se adaptan a los patrones del jugador.</span>
                <span data-lang="en" style="display:none">The game implements a hybrid AI system that combines rule-based logic with reinforcement learning (Q-Learning) to create intelligent enemy behaviors that adapt to player patterns.</span>
            </p>

            <h2>
                <span data-lang="es">Algoritmo Q-Learning</span>
                <span data-lang="en" style="display:none">Q-Learning Algorithm</span>
            </h2>
            
            <h3>
                <span data-lang="es">¬øQu√© es Q-Learning?</span>
                <span data-lang="en" style="display:none">What is Q-Learning?</span>
            </h3>
            <p>
                <span data-lang="es">Q-Learning es un algoritmo de aprendizaje por refuerzo libre de modelo que aprende la calidad de las acciones, indicando a un agente qu√© acci√≥n tomar bajo qu√© circunstancias.</span>
                <span data-lang="en" style="display:none">Q-Learning is a model-free reinforcement learning algorithm that learns the quality of actions, telling an agent what action to take under what circumstances.</span>
            </p>

            <h3>
                <span data-lang="es">Detalles de Implementaci√≥n</span>
                <span data-lang="en" style="display:none">Implementation Details</span>
            </h3>
            
            <h4>
                <span data-lang="es">Espacio de Estados</span>
                <span data-lang="en" style="display:none">State Space</span>
            </h4>
            <p>
                <span data-lang="es">El agente de IA observa un espacio de estados de 6 dimensiones:</span>
                <span data-lang="en" style="display:none">The AI agent observes a 6-dimensional state space:</span>
            </p>
            
            <div class="code-block">
                <pre>state = [
    enemy_x / window_width,      # Posici√≥n X normalizada del enemigo (0-1)
    enemy_y / window_height,     # Posici√≥n Y normalizada del enemigo (0-1)
    player_x / window_width,     # Posici√≥n X normalizada del jugador (0-1)
    player_y / window_height,    # Posici√≥n Y normalizada del jugador (0-1)
    (direction + 1) / 2,         # Direcci√≥n normalizada (-1,1) ‚Üí (0,1)
    1 if on_ground else 0        # Contacto con el suelo (booleano)
]</pre>
            </div>

            <h4>
                <span data-lang="es">Espacio de Acciones</span>
                <span data-lang="en" style="display:none">Action Space</span>
            </h4>
            <p>
                <span data-lang="es">El agente puede elegir entre 4 acciones posibles:</span>
                <span data-lang="en" style="display:none">The agent can choose from 4 possible actions:</span>
            </p>
            
            <div class="code-block">
                <pre>actions = {
    0: "Mover Izquierda",    # Mover enemigo a la izquierda
    1: "Mover Derecha",      # Mover enemigo a la derecha
    2: "Saltar",             # Saltar a plataforma superior
    3: "Caer/Esperar"        # Caer a plataforma inferior o esperar
}</pre>
            </div>

            <h4>
                <span data-lang="es">Funci√≥n de Recompensa</span>
                <span data-lang="en" style="display:none">Reward Function</span>
            </h4>
            <p>
                <span data-lang="es">El sistema de recompensas incentiva a la IA a acercarse al jugador:</span>
                <span data-lang="en" style="display:none">The reward system incentivizes the AI to get closer to the player:</span>
            </p>
            
            <div class="code-block">
                <pre>def calculate_reward(self, player_rect):
    if player_rect is None:
        return -0.1
    
    # Recompensa basada en distancia
    distance = sqrt((enemy_x - player_x)¬≤ + (enemy_y - player_y)¬≤)
    max_distance = sqrt(window_width¬≤ + window_height¬≤)
    proximity_reward = (max_distance - distance) / max_distance
    
    # Bonus por estar en la misma plataforma
    same_platform_bonus = 0.3 if abs(enemy_y - player_y) < 30 else 0
    
    # Penalizaci√≥n por estar atascado
    stuck_penalty = -0.2 if stuck_timer > 60 else 0
    
    return proximity_reward + same_platform_bonus + stuck_penalty</pre>
            </div>

            <h2>
                <span data-lang="es">Arquitectura de IA H√≠brida</span>
                <span data-lang="en" style="display:none">Hybrid AI Architecture</span>
            </h2>
            
            <h3>
                <span data-lang="es">Sistema de Decisi√≥n Primario (Basado en Reglas)</span>
                <span data-lang="en" style="display:none">Primary Decision System (Rule-Based)</span>
            </h3>
            <p>
                <span data-lang="es">La IA utiliza l√≥gica basada en reglas como sistema principal de toma de decisiones:</span>
                <span data-lang="en" style="display:none">The AI uses rule-based logic as the main decision-making system:</span>
            </p>

            <div class="code-block">
                <pre>def decide_primary_action(self, dx, dy, current_platform, player_platform):
    # Forzar ca√≠da si est√° en el borde de la plataforma
    if at_platform_edge():
        return DROP_ACTION
    
    # Saltar si el jugador est√° arriba
    if dy < -40 and abs(dx) < 100:
        return JUMP_ACTION
    
    # Moverse horizontalmente hacia el jugador
    if abs(dx) > 10:
        return RIGHT_ACTION if dx > 0 else LEFT_ACTION
    
    return RIGHT_ACTION  # Comportamiento por defecto</pre>
            </div>

            <h3>
                <span data-lang="es">Sistema de Validaci√≥n Q-Learning</span>
                <span data-lang="en" style="display:none">Q-Learning Validation System</span>
            </h3>
            <p>
                <span data-lang="es">Q-Learning act√∫a como una capa de validaci√≥n y mejora:</span>
                <span data-lang="en" style="display:none">Q-Learning acts as a validation and improvement layer:</span>
            </p>
            
            <div class="code-block">
                <pre>def should_override_action(self, primary_action, q_action, dx, dy):
    # Solo anular en situaciones espec√≠ficas
    if primary_action == q_action:
        return False
    
    # Permitir anulaci√≥n cuando est√° muy cerca del jugador
    if abs(dx) < 50 and abs(dy) < 50:
        return True
    
    return False</pre>
            </div>

            <h2>
                <span data-lang="es">Tipos de Comportamiento de Enemigos</span>
                <span data-lang="en" style="display:none">Enemy Behavior Types</span>
            </h2>
            
            <h3>
                <span data-lang="es">Enemigos Barril</span>
                <span data-lang="en" style="display:none">Barrel Enemies</span>
            </h3>
            <p>
                <span data-lang="es"><span class="highlight">Caracter√≠sticas:</span></span>
                <span data-lang="en" style="display:none"><span class="highlight">Characteristics:</span></span>
            </p>
            <ul>
                <li>
                    <span data-lang="es">Velocidad: 1.8 p√≠xeles/frame (70% del original)</span>
                    <span data-lang="en" style="display:none">Speed: 1.8 pixels/frame (70% of original)</span>
                </li>
                <li>
                    <span data-lang="es">Comportamiento: Rodamiento y navegaci√≥n de plataformas</span>
                    <span data-lang="en" style="display:none">Behavior: Rolling and platform navigation</span>
                </li>
                <li>
                    <span data-lang="es">IA: H√≠brida basada en reglas + Q-Learning</span>
                    <span data-lang="en" style="display:none">AI: Hybrid rule-based + Q-Learning</span>
                </li>
            </ul>

            <p>
                <span data-lang="es"><span class="highlight">Estados de Comportamiento:</span></span>
                <span data-lang="en" style="display:none"><span class="highlight">Behavior States:</span></span>
            </p>
            <ol>
                <li>
                    <span data-lang="es"><strong>Rodamiento:</strong> Movimiento horizontal normal</span>
                    <span data-lang="en" style="display:none"><strong>Rolling:</strong> Normal horizontal movement</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Detecci√≥n de Bordes:</strong> Identifica l√≠mites de plataforma</span>
                    <span data-lang="en" style="display:none"><strong>Edge Detection:</strong> Identifies platform boundaries</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Navegaci√≥n de Plataformas:</strong> Salta entre plataformas</span>
                    <span data-lang="en" style="display:none"><strong>Platform Navigation:</strong> Jumps between platforms</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Persecuci√≥n del Jugador:</strong> Persigue activamente al jugador</span>
                    <span data-lang="en" style="display:none"><strong>Player Pursuit:</strong> Actively chases the player</span>
                </li>
            </ol>

            <h3>
                <span data-lang="es">Enemigos Monstruo</span>
                <span data-lang="en" style="display:none">Monster Enemies</span>
            </h3>
            <p>
                <span data-lang="es"><span class="highlight">Caracter√≠sticas:</span></span>
                <span data-lang="en" style="display:none"><span class="highlight">Characteristics:</span></span>
            </p>
            <ul>
                <li>
                    <span data-lang="es">Velocidad: 1.1 p√≠xeles/frame (70% del original)</span>
                    <span data-lang="en" style="display:none">Speed: 1.1 pixels/frame (70% of original)</span>
                </li>
                <li>
                    <span data-lang="es">Comportamiento: Sistema de tres estados</span>
                    <span data-lang="en" style="display:none">Behavior: Three-state system</span>
                </li>
                <li>
                    <span data-lang="es">IA: Basada en m√°quina de estados</span>
                    <span data-lang="en" style="display:none">AI: State machine based</span>
                </li>
            </ul>

            <p>
                <span data-lang="es"><span class="highlight">Estados de Comportamiento:</span></span>
                <span data-lang="en" style="display:none"><span class="highlight">Behavior States:</span></span>
            </p>
            
            <div class="code-block">
                <pre><span data-lang="es">1. Estado de Ca√≠da
   # Cae del cielo por 5-8 segundos
   duration = random.randint(300, 480)  # frames
   velocity_x = 0  # Sin movimiento horizontal

2. Estado de Espera
   # Se queda quieto por 1-2 segundos
   duration = random.randint(60, 120)  # frames
   velocity_x = 0
   # Indicador visual: c√≠rculo amarillo

3. Estado de Caza
   # Persigue activamente al jugador
   if abs(dx) > 10:
       direction = 1 if dx > 0 else -1
       velocity_x = speed * direction
   
   # Saltar si el jugador est√° arriba
   if dy < -40 and abs(dx) < 60:
       velocity_y = -10</span><span data-lang="en" style="display:none">1. Falling State
   # Falls from sky for 5-8 seconds
   duration = random.randint(300, 480)  # frames
   velocity_x = 0  # No horizontal movement

2. Waiting State
   # Stays still for 1-2 seconds
   duration = random.randint(60, 120)  # frames
   velocity_x = 0
   # Visual indicator: yellow circle

3. Hunting State
   # Actively pursues the player
   if abs(dx) > 10:
       direction = 1 if dx > 0 else -1
       velocity_x = speed * direction
   
   # Jump if player is above
   if dy < -40 and abs(dx) < 60:
       velocity_y = -10</span></pre>
            </div>

            <h2>
                <span data-lang="es">Caracter√≠sticas Avanzadas de IA</span>
                <span data-lang="en" style="display:none">Advanced AI Features</span>
            </h2>
            
            <h3>
                <span data-lang="es">Sistema de Pausa Adaptativo</span>
                <span data-lang="en" style="display:none">Adaptive Pause System</span>
            </h3>
            <p>
                <span data-lang="es">Los enemigos implementan un sistema de pausa din√°mico:</span>
                <span data-lang="en" style="display:none">Enemies implement a dynamic pause system:</span>
            </p>

            <div class="code-block">
                <pre><span data-lang="es"># Pausa inicial: 1 segundo cada 5 segundos
pause_duration = 60      # frames (1 segundo)
pause_cycle = 300        # frames (5 segundos)
pause_reduction = 5      # frames a reducir cada vez

# Cada pausa se vuelve m√°s corta
new_duration = max(10, pause_duration - pause_reduction)</span><span data-lang="en" style="display:none"># Initial pause: 1 second every 5 seconds
pause_duration = 60      # frames (1 second)
pause_cycle = 300        # frames (5 seconds)
pause_reduction = 5      # frames to reduce each time

# Each pause becomes shorter
new_duration = max(10, pause_duration - pause_reduction)</span></pre>
            </div>

            <h3>
                <span data-lang="es">Inteligencia de Navegaci√≥n de Plataformas</span>
                <span data-lang="en" style="display:none">Platform Navigation Intelligence</span>
            </h3>
            <p>
                <span data-lang="es">La IA puede navegar inteligentemente entre plataformas:</span>
                <span data-lang="en" style="display:none">The AI can intelligently navigate between platforms:</span>
            </p>
            
            <div class="code-block">
                <pre>def should_actively_drop(self, current_platform, player_platform):
    <span data-lang="es"># Caer si el jugador est√° en plataforma inferior
    if player_platform.top > current_platform.top:
        return True
    
    # Caer si est√° en el borde de la plataforma
    if at_platform_edge():
        return True
    
    return False</span><span data-lang="en" style="display:none"># Drop if player is on lower platform
    if player_platform.top > current_platform.top:
        return True
    
    # Drop if at platform edge
    if at_platform_edge():
        return True
    
    return False</span></pre>
            </div>

            <h2>
                <span data-lang="es">Optimizaci√≥n de Rendimiento</span>
                <span data-lang="en" style="display:none">Performance Optimization</span>
            </h2>
            
            <h3>
                <span data-lang="es">Normalizaci√≥n del Espacio de Estados</span>
                <span data-lang="en" style="display:none">State Space Normalization</span>
            </h3>
            <p>
                <span data-lang="es">Todos los valores de estado se normalizan al rango [0,1] para un mejor aprendizaje:</span>
                <span data-lang="en" style="display:none">All state values are normalized to [0,1] range for better learning:</span>
            </p>
            
            <div class="code-block">
                <pre>normalized_x = x_position / window_width
normalized_y = y_position / window_height</pre>
            </div>

            <h3>
                <span data-lang="es">Exploraci√≥n Epsilon-Greedy</span>
                <span data-lang="en" style="display:none">Epsilon-Greedy Exploration</span>
            </h3>
            <p>
                <span data-lang="es">Equilibra exploraci√≥n vs explotaci√≥n:</span>
                <span data-lang="en" style="display:none">Balances exploration vs exploitation:</span>
            </p>
            
            <div class="code-block">
                <pre>if random.random() < epsilon:
    <span data-lang="es">action = random.choice(available_actions)  # Explorar
else:
    action = argmax(Q_values)  # Explotar</span><span data-lang="en" style="display:none">action = random.choice(available_actions)  # Explore
else:
    action = argmax(Q_values)  # Exploit</span></pre>
            </div>

            <h2>
                <span data-lang="es">Par√°metros de Ajuste</span>
                <span data-lang="en" style="display:none">Tuning Parameters</span>
            </h2>
            
            <h3>
                <span data-lang="es">Tasa de Aprendizaje (Œ± = 0.1)</span>
                <span data-lang="en" style="display:none">Learning Rate (Œ± = 0.1)</span>
            </h3>
            <ul>
                <li>
                    <span data-lang="es"><strong>Valores m√°s altos:</strong> Aprendizaje m√°s r√°pido, menos estable</span>
                    <span data-lang="en" style="display:none"><strong>Higher values:</strong> Faster learning, less stable</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Valores m√°s bajos:</strong> Aprendizaje m√°s lento, m√°s estable</span>
                    <span data-lang="en" style="display:none"><strong>Lower values:</strong> Slower learning, more stable</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Actual:</strong> Equilibrado para gameplay en tiempo real</span>
                    <span data-lang="en" style="display:none"><strong>Current:</strong> Balanced for real-time gameplay</span>
                </li>
            </ul>

            <h3>
                <span data-lang="es">Factor de Descuento (Œ≥ = 0.95)</span>
                <span data-lang="en" style="display:none">Discount Factor (Œ≥ = 0.95)</span>
            </h3>
            <ul>
                <li>
                    <span data-lang="es"><strong>Valores m√°s altos:</strong> M√°s enfocado en el futuro</span>
                    <span data-lang="en" style="display:none"><strong>Higher values:</strong> More future-focused</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Valores m√°s bajos:</strong> M√°s enfocado en recompensas inmediatas</span>
                    <span data-lang="en" style="display:none"><strong>Lower values:</strong> More focused on immediate rewards</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Actual:</strong> √ânfasis en estrategia a largo plazo</span>
                    <span data-lang="en" style="display:none"><strong>Current:</strong> Emphasis on long-term strategy</span>
                </li>
            </ul>

            <h3>
                <span data-lang="es">Tasa de Exploraci√≥n (Œµ = 0.2)</span>
                <span data-lang="en" style="display:none">Exploration Rate (Œµ = 0.2)</span>
            </h3>
            <ul>
                <li>
                    <span data-lang="es"><strong>Valores m√°s altos:</strong> M√°s exploraci√≥n aleatoria</span>
                    <span data-lang="en" style="display:none"><strong>Higher values:</strong> More random exploration</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Valores m√°s bajos:</strong> M√°s explotaci√≥n del comportamiento aprendido</span>
                    <span data-lang="en" style="display:none"><strong>Lower values:</strong> More exploitation of learned behavior</span>
                </li>
                <li>
                    <span data-lang="es"><strong>Actual:</strong> 20% de exploraci√≥n mantiene la adaptabilidad</span>
                    <span data-lang="en" style="display:none"><strong>Current:</strong> 20% exploration maintains adaptability</span>
                </li>
            </ul>

            <h2>
                <span data-lang="es">Conclusi√≥n</span>
                <span data-lang="en" style="display:none">Conclusion</span>
            </h2>
            <p>
                <span data-lang="es">Este sistema de IA crea enemigos desafiantes y adaptativos que proporcionan una experiencia de juego atractiva mientras mantienen la sensaci√≥n cl√°sica de Donkey Kong. La combinaci√≥n de l√≥gica basada en reglas con Q-Learning resulta en comportamientos que son tanto predecibles como sorprendentes.</span>
                <span data-lang="en" style="display:none">This AI system creates challenging and adaptive enemies that provide an engaging gaming experience while maintaining the classic Donkey Kong feel. The combination of rule-based logic with Q-Learning results in behaviors that are both predictable and surprising.</span>
            </p>
        </div>
    </div>
</body>
</html>